# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## v0.1.8 (2023-05-15)

* Make rustls an optional (default-enabled) feature.
  This allows upstream users of the library to choose a TLS implementation.

## v0.1.7 (2023-05-15)

* Move init command to be a subcommand of app

## v0.1.6 (2023-05-15)

Re-trigger release due to faulty tagging (missing exports).

## v0.1.5 (2023-05-15)

* Expose commands in library
  Allows other CLIs to integrate commands.

## v0.1.4 (2023-05-04)

### Bug Fixes

* Fixed `app publish` command not updating package version in deploy.yaml
  See https://github.com/wasmerio/deploy/pull/484

## v0.1.3 (2023-04-27)

### New Features

- Added `app logs` command

- SSH command: add arguments for port and hostname
  (defaults to main deploy domain)

### Bug Fixes

- SSH command: fixed authentication

## v0.1.2 (2023-04-12)

### New Feature

- Enable logging in the CLI. By default, it will log at the `warn` level, but
  adding one or more `-v` flags will increase the log level. The `$RUST_LOG`
  environment variable can be used for more fine-grained filtering.
- Add a `--version` flag to the CLI

### Bug Fixes

- The `wasmer-deploy publish` command will now use `--token` and `--registry`
  when `--publish-package` publishes the package to WAPM

## v0.1.1 (2023-03-29)

### Documentation

 - <csr-id-7a3aadb55464169db9faf0b0b755ab9867cdfc25/> Improve clap command documentation
   Add short explanations to all the commands.

## v0.1.0 (2023-03-29)

<csr-id-9728d1bd3b0dfb991f1d2ea8ab56056551985052/>
<csr-id-b1245bfa194e05d49809973b716e2565689bfccf/>
<csr-id-942b8e6483a9996321b8606a12b0215bf7623a59/>
<csr-id-9563d9fd9750e8bc972623d94e3f468c290d84a0/>
<csr-id-b8b9af7429a8c9b0880be9bf72f1b8a732d05d75/>
<csr-id-a40f5127796316069aa2ac646ea5c3817f7a29fa/>
<csr-id-065513b5f6ee350b9f2607d5aa7003df352f5cbc/>
<csr-id-58269449b3f283d7978e88eed4e7a12fa6a8d670/>
<csr-id-8febcde88d1d7df8a7a86c79afcf960c2cb868a3/>
<csr-id-74794bdcefc12f1452c9ba00a923c2f963573ac7/>
<csr-id-6e981348b7bff18c3044ff244d15663039c8363e/>
<csr-id-7195702c618c0fb0937244034ee4600531b97034/>
<csr-id-fe461a8747fb03e42878f73fb4c122c24e94a1c5/>

### Chore

 - <csr-id-9728d1bd3b0dfb991f1d2ea8ab56056551985052/> Add versions to some local dependencies
   Needed for publishing.
 - <csr-id-b1245bfa194e05d49809973b716e2565689bfccf/> Remove download_url from WebcPackageIdentifierV1
   Not needed anymore, since now we have a deployment config registry.

### Refactor (BREAKING)

 - <csr-id-fe461a8747fb03e42878f73fb4c122c24e94a1c5/> Rename client-cli crate
   New name: wasmer-deploy-cli

   Renamed to make `cargo install wasmer-deploy-cli` a bit nicer.

### Documentation

 - <csr-id-7d3b40f845faa1237faba3bfbd7e2534123aa108/> Add README comment about available commands
 - <csr-id-efcd62de09022f518242ab73f9dd2f69d477ab13/> Update README to point to new crate name
   wasmer-deploy-cli (for simplicity)
 - <csr-id-98b9313b34e93c7973b778ef0867f042bf7aed57/> add some changelogs
 - <csr-id-845a8b3ebece96d5fff941110a425ab19a3a2eed/> Add REAMDE to Cargo.toml of to-be-published crates

### New Features

<csr-id-b5157b197d62df589b89248af7a5bdca9d6156bd/>
<csr-id-76bd7b8dc13efc77f7905b7bb89adefe70a7a222/>
<csr-id-a1d862c89fbc73c3e20dec3c51c531a0c6543035/>
<csr-id-b4aa770fb388970c837f2e5429caa5803eef64bf/>
<csr-id-b3305931141992ddc2ed87eb89dd071df831a635/>
<csr-id-d9823e522a313e62de2e641b2da563fa596fc121/>

 - <csr-id-b54ae20a44fe58cc64ee9d3ab5abe4281c68c373/> Add unified formatting with comfy-table
   Use comfy-table and a new CliRender trait to have coherent formatting of
   outputs on the CLI.
 - <csr-id-7ce7ebb2086729d74bf4f39656679ca21d347d81/> Add static site init and improve app publish commands
   * Adds a new command "init static-site" that initializes a package and
   deployment for a static site
* improve the "app publish" command to optionally auto-publish a package
     that is located in the same directory

### Bug Fixes

 - <csr-id-acde17c533c786af5f8dcaba676e643b9d848f71/> Fix the "app publish" command
   Wasn't added to the App command enum, and needed to use JSON instead of
   YAML in the GQL query, because the backend can't parse the YAML
   generated by serde_yaml
 - <csr-id-c6ad494a45968bb4a69455f3c292b6fcf9631770/> Update deployment config generation to backend changes
   The generateDeployConfig GraphQL API has changed

   * Takes a DeployConfigVersion id instead of DeployConfig id
* Returns a DeployConfigVersion

### Other

 - <csr-id-942b8e6483a9996321b8606a12b0215bf7623a59/> Bump client-cli version
   Need to publish non-alpha to make cargo install work better
 - <csr-id-9563d9fd9750e8bc972623d94e3f468c290d84a0/> Publish packages without invoking "wasmer" binary
   Publish packages with shared functionality recently added to the
   wasmer-registry crate, instead of invoking the wasmer binary.
 - <csr-id-b8b9af7429a8c9b0880be9bf72f1b8a732d05d75/> Dependency cleanup
   * Lift some dependencies to workspace.dependencies to avoid duplication
   * Remove a bunch of unused dependencies
 - <csr-id-a40f5127796316069aa2ac646ea5c3817f7a29fa/> Add crate metadata and prepare for first CLI release
 - <csr-id-065513b5f6ee350b9f2607d5aa7003df352f5cbc/> "app list" filters
   Extend the "app list" command to query either a namespace, a users apps,
   or all apps accessible by a user.
   (--namepsace X, --all)
 - <csr-id-58269449b3f283d7978e88eed4e7a12fa6a8d670/> Upgrade toml dependency
   Need some new APIs for Table conversion.
 - <csr-id-8febcde88d1d7df8a7a86c79afcf960c2cb868a3/> Make serde_json a workspace dependency
   To avoid duplication...

### Refactor

 - <csr-id-74794bdcefc12f1452c9ba00a923c2f963573ac7/> Rename "app publish" command to "publish"
   For more convenient usage.

### Refactor (BREAKING)

 - <csr-id-6e981348b7bff18c3044ff244d15663039c8363e/> Rename client-cli crate
   New name: wasmer-deploy-cli

   Renamed to make `cargo install wasmer-deploy-cli` a bit nicer.
 - <csr-id-7195702c618c0fb0937244034ee4600531b97034/> Rename wasmer-deploy-core to wasmer-deploy-schema
   -schema is a more sensible / expressive name for the crate,
   since it just holds type definitions.

   Done in preparation for publishing the crate, since it will need to be
   used by downstream consumers like the Wasmer repo

<csr-unknown>
 Add publish-static-site commandThe new command makes it easy to publish a static site with a singlecommand invocation. Read WASMER_TOKEN from wasmer registry configInstead of always requiring users to specify it manually Add publish-static-site commandAdd a new command that makes it easy to publish a static website. Add new namespace and app commands Add publish-static-site commandAdd a new command that makes it easy to publish a static website. Add client cli with SSH commandAdds a new “deploy” client CLI that provides “end-user” functionalityfor interacting with deploy.This is added in a separate crate because it will be merged orintegrated with the main Wasmer CLI in the future.The first command that is added is a “ssh” command, which auto-generatesa user specific ssh token and opens an SSH session.Needed to update relevant callsites<csr-unknown/>
<csr-unknown/>

